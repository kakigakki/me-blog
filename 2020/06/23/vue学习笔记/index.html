<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>vue学习笔记 | KAKi BLOG</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="
案例1:展示数据到页面
    先导入vue.js
    声明式编程(函数式编程)
    `js
    //html代码
    {{message}}
    //js代码
    const app= new Vue({
        el:"#app" //用于挂载要管理的元素
        d ...">
    <link rel="preload" href="/me-blog/assets/css/0.styles.160a852d.css" as="style"><link rel="preload" href="/me-blog/assets/js/app.4b1a192a.js" as="script"><link rel="preload" href="/me-blog/assets/js/6.28c07464.js" as="script"><link rel="preload" href="/me-blog/assets/js/3.db7e6e2f.js" as="script"><link rel="preload" href="/me-blog/assets/js/32.48bd6ca5.js" as="script"><link rel="prefetch" href="/me-blog/assets/js/10.79eede31.js"><link rel="prefetch" href="/me-blog/assets/js/11.55973fd1.js"><link rel="prefetch" href="/me-blog/assets/js/12.9578c04b.js"><link rel="prefetch" href="/me-blog/assets/js/13.dcb99cce.js"><link rel="prefetch" href="/me-blog/assets/js/14.5beb0ec8.js"><link rel="prefetch" href="/me-blog/assets/js/15.f58825d9.js"><link rel="prefetch" href="/me-blog/assets/js/16.3ee014d3.js"><link rel="prefetch" href="/me-blog/assets/js/17.88b8ce45.js"><link rel="prefetch" href="/me-blog/assets/js/18.78fcb414.js"><link rel="prefetch" href="/me-blog/assets/js/19.56424686.js"><link rel="prefetch" href="/me-blog/assets/js/20.d8b5c6da.js"><link rel="prefetch" href="/me-blog/assets/js/21.5ae38ab1.js"><link rel="prefetch" href="/me-blog/assets/js/22.6f9be2d0.js"><link rel="prefetch" href="/me-blog/assets/js/23.1040e7cc.js"><link rel="prefetch" href="/me-blog/assets/js/24.4930b6be.js"><link rel="prefetch" href="/me-blog/assets/js/25.b2addafc.js"><link rel="prefetch" href="/me-blog/assets/js/26.4c8fdf59.js"><link rel="prefetch" href="/me-blog/assets/js/27.d70545a0.js"><link rel="prefetch" href="/me-blog/assets/js/28.47ac6ea1.js"><link rel="prefetch" href="/me-blog/assets/js/29.d1a8312e.js"><link rel="prefetch" href="/me-blog/assets/js/30.abf11326.js"><link rel="prefetch" href="/me-blog/assets/js/31.66095ccb.js"><link rel="prefetch" href="/me-blog/assets/js/33.a394a180.js"><link rel="prefetch" href="/me-blog/assets/js/34.9142e80a.js"><link rel="prefetch" href="/me-blog/assets/js/35.eddeb958.js"><link rel="prefetch" href="/me-blog/assets/js/36.dc234639.js"><link rel="prefetch" href="/me-blog/assets/js/37.d2e7e290.js"><link rel="prefetch" href="/me-blog/assets/js/38.b7b6900f.js"><link rel="prefetch" href="/me-blog/assets/js/39.3ddc72c6.js"><link rel="prefetch" href="/me-blog/assets/js/4.9ce64a3d.js"><link rel="prefetch" href="/me-blog/assets/js/40.04d82849.js"><link rel="prefetch" href="/me-blog/assets/js/41.4bb08b11.js"><link rel="prefetch" href="/me-blog/assets/js/42.91f194df.js"><link rel="prefetch" href="/me-blog/assets/js/43.04bbe10d.js"><link rel="prefetch" href="/me-blog/assets/js/44.c1594f17.js"><link rel="prefetch" href="/me-blog/assets/js/45.5cfd9196.js"><link rel="prefetch" href="/me-blog/assets/js/5.61e04663.js"><link rel="prefetch" href="/me-blog/assets/js/7.7f74546b.js"><link rel="prefetch" href="/me-blog/assets/js/8.a9b0d16e.js"><link rel="prefetch" href="/me-blog/assets/js/9.33795499.js"><link rel="prefetch" href="/me-blog/assets/js/vuejs-paginate.3eb1ed69.js">
    <link rel="stylesheet" href="/me-blog/assets/css/0.styles.160a852d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/me-blog/" class="nav-link home-link">KAKi BLOG </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/me-blog/" class="nav-link">编程</a></li><li class="nav-item"><a href="/me-blog/coding/" class="nav-link">頑張ってね</a></li><li class="nav-item"><a href="/me-blog/tag/" class="nav-link">标签</a></li><li class="nav-item"><a href="https://github.com/kakigakki" target="_blank" rel="noopener noreferrer" class="nav-link external">github</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header> <div class="colorPicker themeColorPicker" data-v-7280d5ff><button data-v-7280d5ff></button> <button data-v-7280d5ff></button> <button data-v-7280d5ff></button> <button data-v-7280d5ff></button> <button data-v-7280d5ff></button></div></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/me-blog/" class="nav-link mobile-home-link">KAKi BLOG </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/me-blog/" class="nav-link">编程</a></li><li class="mobile-nav-item"><a href="/me-blog/coding/" class="nav-link">頑張ってね</a></li><li class="mobile-nav-item"><a href="/me-blog/tag/" class="nav-link">标签</a></li><li class="mobile-nav-item"><a href="https://github.com/kakigakki" target="_blank" rel="noopener noreferrer" class="nav-link external">github</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        vue学习笔记
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">kaki</span> <span itemprop="address">   in Tokyo</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-06-23T00:00:00.000Z">
      Tue Jun 23 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-f41abf76><a href="/me-blog/tag/javaScript" data-v-f41abf76><span data-v-f41abf76>javaScript</span></a></li><li class="post-tag" data-v-f41abf76><a href="/me-blog/tag/vue" data-v-f41abf76><span data-v-f41abf76>vue</span></a></li><li class="post-tag" data-v-f41abf76><a href="/me-blog/tag/html" data-v-f41abf76><span data-v-f41abf76>html</span></a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h2 id="vue的简单案例"><a href="#vue的简单案例" class="header-anchor">#</a> vue的简单案例</h2> <ol><li><p>案例1:展示数据到页面</p> <ul><li>先导入vue.js</li> <li>声明式编程(函数式编程)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//html代码</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>message<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">//js代码</span>
<span class="token keyword">const</span> app<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span> <span class="token comment">//用于挂载要管理的元素</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//定义数据</span>
        message <span class="token operator">:</span><span class="token string">&quot;第一个vue&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>vue是响应式的,当数据发生改变,页面的数据也跟着改变了</li></ul></li> <li><p>案例2:列表展示</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//html代码</span>
<span class="token operator">&lt;</span>ul<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in movies&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>ul<span class="token operator">&gt;</span>
<span class="token comment">//js代码</span>
<span class="token keyword">const</span> app<span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span> <span class="token comment">//用于挂载要管理的元素</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//定义数据</span>
        movies<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;星际穿越&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;大话西游&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;少年派的奇幻漂流&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;盗梦空间&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>写完上面代码就可以自动在页面上展示数据了</li> <li>列表也是响应式的</li></ul></li> <li><p>案例3 : 计数器</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//html代码</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>count<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;add&quot;</span><span class="token operator">&gt;</span> <span class="token operator">+</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>button v<span class="token operator">-</span>on<span class="token operator">:</span>click<span class="token operator">=</span><span class="token string">&quot;minus&quot;</span><span class="token operator">&gt;</span> <span class="token operator">-</span> <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token comment">//js代码</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        count<span class="token operator">:</span><span class="token number">0</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function-variable function">add</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">++</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function-variable function">minus</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>count<span class="token operator">--</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>v-on:click 为vue的事件指令,也可以用@click</li></ul></li> <li><p>vue实例中的传入的options值</p> <ul><li>el :可以去string ,HTMLelment</li> <li>data :可以是obj,func</li> <li>methods : {key:func}</li></ul></li></ol> <h2 id="vue的mvvm"><a href="#vue的mvvm" class="header-anchor">#</a> vue的MVVM</h2> <ol><li>概念图
<img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200506122519.png" alt="20200506122519"></li> <li>代码上的MVVM划分
<img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200506122755.png" alt="20200506122755"></li></ol> <h2 id="vue的生命周期"><a href="#vue的生命周期" class="header-anchor">#</a> vue的生命周期</h2> <p><img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/lifecycle.png" alt="lifecycle"></p> <ol><li>在实例对象参数中可以传钩子函数,来根据生命周期调用函数</li></ol> <h2 id="基本语法"><a href="#基本语法" class="header-anchor">#</a> 基本语法</h2> <h3 id="插值操作"><a href="#插值操作" class="header-anchor">#</a> 插值操作</h3> <ol><li>用Mustache<code>{{}}</code> <ul><li><code>{{}}</code>中可以使用表达式(加减乘除之类的)</li></ul></li> <li><code>v-once</code>的使用
<ul><li>后面不需要任何表达式,直接加在标签上</li> <li>表示该标签的数据不会通过响应式改变</li></ul></li> <li><code>v-html</code> <ul><li>如果服务器返回的是一个带标签的字符串的话,不能直接用{{}},用<code>v-html</code>才能渲染字符串中的标签</li></ul></li> <li><code>v-text</code>: 跟<code>{{}}</code>差不多,但是不灵活,不怎么用</li> <li><code>v-pre</code> : 将标签的内容原封不动显示,跟Pre标签很像</li> <li><code>v-cloak</code> <ul><li>在vue解析之前,div中有这个属性</li> <li>在Vue解析之后,div中的这个属性就没了.</li> <li>配合<code>[v-cloak]{display:none}</code>,就可以在vue解析之前隐藏某个元素</li></ul></li></ol> <h3 id="动态绑定属性"><a href="#动态绑定属性" class="header-anchor">#</a> 动态绑定属性</h3> <ol><li><p><code>v-bind:属性名</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//html</span>
<span class="token operator">&lt;</span>img v<span class="token operator">-</span>bind<span class="token operator">:</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;imgUrl&quot;</span><span class="token punctuation">)</span> alt<span class="token operator">&gt;</span>

<span class="token comment">//js</span>
<span class="token keyword">const</span> app <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token punctuation">.</span><span class="token punctuation">.</span>
        imgUrl<span class="token operator">:</span><span class="token string">&quot;http://xxxx&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><code>v-bind</code>语法糖: <code>:</code></p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token operator">&lt;</span>img <span class="token operator">:</span><span class="token function">src</span><span class="token punctuation">(</span><span class="token string">&quot;imgUrl&quot;</span><span class="token punctuation">)</span> alt<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>v-bind动态绑定<code>class</code></p> <ul><li><p>对象class,一次性设置多个class</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>p <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;{active:true, line : false}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre></div><ul><li><p>当是true的时候有此class,当时false的时候没有此class</p></li> <li><p>可以配合methods返回一个对象时直接调用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>p <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;getClasses()&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">getclasses</span> <span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">return</span> 
    <span class="token operator">...</span>
    <span class="token punctuation">{</span>active <span class="token punctuation">,</span>line<span class="token punctuation">}</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li> <li><p>数组class</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token operator">&lt;</span>p <span class="token operator">:</span><span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;[active,line]&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span>
</code></pre></div><ul><li>无法判断true,false,所以用的很少</li></ul></li> <li><p><em>实战:做一个列表,点击列表的某一项时,该项文字变颜色</em></p></li></ul></li> <li><p><code>v-bind</code> 动态绑定style</p> <ul><li><p>对象style,一次性设置多个style</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>p <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;{fontSize : size,color : 'red'}&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        Size <span class="token operator">:</span><span class="token string">'100px'</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>数组style</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>p <span class="token operator">:</span>style<span class="token operator">=</span><span class="token string">&quot;[]&quot;</span><span class="token operator">&gt;</span>
</code></pre></div></li></ul></li></ol> <h3 id="计算属性"><a href="#计算属性" class="header-anchor">#</a> 计算属性</h3> <ol><li><p>基本使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>p<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>fullName<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>p<span class="token operator">&gt;</span> <span class="token comment">//虽然是方法,但其实是带有get set属性的简写.所以末尾不加()</span>
<span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        name1<span class="token operator">:</span><span class="token string">&quot;ka&quot;</span><span class="token punctuation">,</span>
        name2<span class="token operator">:</span><span class="token string">&quot;ki&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    computed<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function-variable function">fullName</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name1 <span class="token operator">+</span><span class="token string">&quot; &quot;</span><span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name2
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>完整的计算属性其实是下面的带有getter和setter的,因为一般计算属性没有set方法,只有get,所以缩写成了上面这种情况</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">...</span>
fullName <span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>计算属性的缓存</p> <ul><li><p>因为vue内部给计算属性(computed的属性)进行了缓存,所以计算属性建议用computed而不是methods</p> <div class="language-js extra-class"><pre class="language-js"><code>computed<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">fullName</span> <span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">//多次 渲染也只执行一次</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
methods<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function-variable function">getFullName</span> <span class="token operator">:</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">//几次渲染就执行几次</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ol> <h3 id="事件监听"><a href="#事件监听" class="header-anchor">#</a> 事件监听</h3> <ol><li>在标签上加<code>v-on:事件名</code> <ul><li>语法糖:<code>@事件名</code></li></ul></li> <li>事件的回调函数参数的几种形式
<ul><li>如果view上<code>@click=&quot;callback&quot;</code>没有写小括号时,默认传event对象到model</li> <li>如果需要自己的参数,<code>@click=&quot;cllback(xxx)&quot;</code></li> <li>如果需要自己的参数,也需要event对象时,用<code>$event</code>表示浏览器的event对象<code>@click=&quot;callback(xxx,$event)&quot;</code></li></ul></li> <li><code>v-on</code>的修饰符
<ul><li><p><code>.stop</code>修饰符:阻止事件冒泡</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div @click<span class="token operator">=</span><span class="token string">&quot;divClicked&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token punctuation">.</span>stop<span class="token operator">=</span><span class="token string">&quot;btnClicked&quot;</span><span class="token operator">&gt;</span>按钮<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span> <span class="token comment">//点击按钮时,只会触发btnClicked</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p><code>.prevent</code>修饰符: 阻止事件的默认行为</p></li> <li><p><code>.[keyCode|keyAlias]</code> :监听某个键盘的键帽,如<code>keyup.enter</code>,按enter时才会触发事件</p></li> <li><p><code>.once</code> : 事件只会触发一次</p></li> <li><p><code>.native</code> : 监听组件根元素的原生事件</p></li></ul></li></ol> <h3 id="条件判断"><a href="#条件判断" class="header-anchor">#</a> 条件判断</h3> <ol><li><code>v-if</code> : 为true时view中标签显示,否则隐藏</li> <li><code>v-if v-else</code>的结合 : 当<code>v-if</code>显示时,<code>v-else</code>隐藏,反则相反
<ul><li>两个互斥的标签,因为不会同时出现在页面上,所以vue在后面其实是复用了同一个标签的,而不是创建了两个标签,所以可能会有Input输入值后再切换另一个input时,输入的值没有清空的问题</li> <li>解决: 给每个Input加一个唯一标识属性<code>key=&quot;xx&quot;</code></li></ul></li> <li><code>v-else-if</code> :满足条件的时候显示(不推荐使用)
<ul><li>条件很多的时候,在标签进行逻辑太麻烦,推荐在计算属性(computed)中操作</li></ul></li> <li><code>v-if=&quot;isShow&quot;</code>与<code>v-show=&quot;isShow&quot;</code>的区别
<ul><li>前者删除DOM</li> <li>后者加行内样式<code>style = &quot;display:none&quot;</code></li> <li>当需要多次显示隐藏频率的时候,用<code>v-show</code></li> <li>当只有一次切换时,通过<code>v-if</code> (用得比较多)</li></ul></li></ol> <h3 id="循环遍历"><a href="#循环遍历" class="header-anchor">#</a> 循环遍历</h3> <ol><li><code>v-for = &quot;item in info&quot;</code> <ul><li><p>v-for可以遍历数组也可以遍历对象</p></li> <li><p>遍历对象还可以写成下面类型</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;(value[,key[,index]]) in info&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>value key<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span><span class="token comment">//key属性名,value属性值</span>
<span class="token operator">&lt;</span>li v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in info&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>li<span class="token operator">&gt;</span> <span class="token comment">//如果只取item,会取属性值</span>
</code></pre></div></li> <li><p>官方推荐使用<code>v-for</code>的时候,给对应的元素加上一个<code>:key</code>,保证虚拟DOM和页面DOM一一对应,当进行插入,更新操作时,就能更高效的更新虚拟DOM</p></li></ul></li></ol> <h3 id="数组与响应式"><a href="#数组与响应式" class="header-anchor">#</a> 数组与响应式</h3> <ol><li>数组中可以做到响应式的方法
<ul><li><code>pop()</code></li> <li><code>shift()</code></li> <li><code>unshift()</code></li> <li><code>splice()</code></li> <li><code>sort()</code></li> <li><code>reverse()</code></li></ul></li> <li>通过索引值修改数组的值,并<strong>不是响应式</strong> <ul><li><code>arr[0] = &quot;xxx&quot;</code>  如果需要替换某个元素,用<code>splice()</code></li></ul></li> <li>通过<code>vue.set(arr,index,value)</code>来修改某个元素,也是响应式</li></ol> <h3 id="阶段案例-图书购物车"><a href="#阶段案例-图书购物车" class="header-anchor">#</a> 阶段案例:图书购物车</h3> <p><img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200506185709.png" alt="20200506185709"></p> <h3 id="v-model使用"><a href="#v-model使用" class="header-anchor">#</a> v-model使用</h3> <ol><li><p>v-model具有双向绑定功能,<code>value、checked、selected</code> attribute 的初始值而总是将 Vue 实例的数据作为数据来源</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;text&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;msg&quot;</span><span class="token operator">&gt;</span>
<span class="token operator">...</span>
data<span class="token operator">:</span><span class="token punctuation">{</span>
    msg<span class="token operator">:</span><span class="token string">&quot;kaki&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>input的值修改,data中的值也会改,反则反之</li> <li><code>v-bind</code>和<code>{{}}</code>都是单向绑定,只能从model传到view</li></ul></li> <li><p>v-model本质是语法糖,相当于下面两个相加</p> <ul><li>v-bind单向model-&gt;view</li> <li>事件绑定监听view输入值,传回给model</li></ul></li> <li><p>v-model绑定在<code>&lt;input type=&quot;radio&quot;&gt;</code>时,单选框就不需要加name属性来互斥,两个单选框设置同一个v-model的值也有互斥的效果</p></li> <li><p>v-model在checkbox的使用时,可以直接将选中的多选框的值加进<code>v-model</code>的同名数组中</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;a&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;letters&quot;</span><span class="token operator">&gt;</span>a
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;b&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;letters&quot;</span><span class="token operator">&gt;</span>a
<span class="token operator">&lt;</span>input type<span class="token operator">=</span><span class="token string">&quot;checkbox&quot;</span> value<span class="token operator">=</span><span class="token string">&quot;c&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;letters&quot;</span><span class="token operator">&gt;</span>a

data<span class="token operator">:</span><span class="token punctuation">{</span>
    letters<span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>上面代码,如果多选框被选中,<code>letters</code>数组中就会加进该多选框的value</li></ul></li> <li><p>v-model用在单选框,一般设置值为布尔类型,如果用在多选框,一般设置值为数组</p></li> <li><p>v-model用在<code>select</code>标签中</p> <ul><li>当select只能选择一个时,v-model的值为字符串类型,值为选中的option的值</li> <li>当select能选择多个时(<code>select</code>标签加<code>mutiple</code>属性),v-model的值未数组类型,数组内未选中的option的值</li></ul></li> <li><p>通常复选框,单选框,选择框的value不是静态的,是从服务器传过来的,此时<code>v-model</code>可以配合<code>v-bind</code>一起使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>select name<span class="token operator">=</span><span class="token string">&quot;hobbies&quot;</span> id<span class="token operator">=</span><span class="token string">&quot;hobbies&quot;</span> v<span class="token operator">-</span>model<span class="token operator">=</span><span class="token string">&quot;newHobbies&quot;</span> multiple<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>option v<span class="token operator">-</span><span class="token keyword">for</span><span class="token operator">=</span><span class="token string">&quot;item in hobbies&quot;</span> <span class="token operator">:</span>value<span class="token operator">=</span><span class="token string">&quot;item&quot;</span><span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token punctuation">{</span>item<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>option<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>select<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>修饰符</p> <ul><li><code>.lazy</code> : 加此修饰符时,input失去焦点才更新</li> <li><code>.number</code> : 指定输入的值传到model是number</li> <li><code>.trim</code> : 去掉用户输入值的空格</li></ul></li></ol> <h2 id="组件化开发"><a href="#组件化开发" class="header-anchor">#</a> 组件化开发</h2> <h3 id="_1-基本使用-已经过时-不使用了"><a href="#_1-基本使用-已经过时-不使用了" class="header-anchor">#</a> 1. 基本使用(已经过时,不使用了)</h3> <ol><li>基本用法
<ul><li><p>创建组件的构造器对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> myCom <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template <span class="token operator">:</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;div&gt;
                &lt;h2&gt;组件1&lt;/h2&gt;
                &lt;p&gt;组件1&lt;/p&gt;
                &lt;/div&gt;</span><span class="token template-punctuation string">`</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>注册组件:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//注册全局组件,意味着可以在多个Vue的实例下面使用</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;com1&quot;</span><span class="token punctuation">,</span>myCom<span class="token punctuation">)</span>

<span class="token comment">//注册局部组件,只能在当前vue实例下使用</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    components <span class="token operator">:</span><span class="token punctuation">{</span>
        com1 <span class="token operator">:</span> myCom
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>使用组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>com1<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>com1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div></li></ul></li></ol> <h3 id="_2-父子组件"><a href="#_2-父子组件" class="header-anchor">#</a> 2. 父子组件</h3> <ol><li>父子组件
<ul><li><p>两个组件可以相互为父子组件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//定义子组件</span>
<span class="token keyword">const</span> c1 <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//定义父组件</span>
<span class="token keyword">const</span> c2 <span class="token operator">=</span> Vue<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span><span class="token operator">...</span><span class="token punctuation">,</span><span class="token comment">//template中可以直接调用c1组件</span>
    components<span class="token operator">:</span><span class="token punctuation">{</span>
        c1 <span class="token operator">:</span> c1
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//可以继续在vue实例中,包含c2父组件,此时vue实例就是c1的爷爷组件了</span>
</code></pre></div></li> <li><p>子组件必须在父组件之前定义,渲染</p></li></ul></li></ol> <h3 id="_3-组件注册的语法糖-推荐"><a href="#_3-组件注册的语法糖-推荐" class="header-anchor">#</a> 3. 组件注册的语法糖(推荐)</h3> <ol><li>语法糖
<ul><li><p>将创建组件构造器与注册组件合并一起:</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;c1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>template<span class="token operator">:</span><span class="token string">&quot;&lt;div&gt;&lt;p&gt;我是语法糖创建的组件&lt;/p&gt;&lt;/div&gt;&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>直接template所在的对象给自定义标签</p></li> <li><p>此语法糖也可以用在局部组件或者父子组件</p></li></ul></li></ol> <h3 id="_4-组件模板分离"><a href="#_4-组件模板分离" class="header-anchor">#</a> 4. 组件模板分离:</h3> <ol><li>组件模板分离
<ul><li><p>使用<code>&lt;script type=&quot;text/x-template&quot; id=&quot;template1&quot;&gt;</code>,然后将此标签赋值给<code>template</code>属性</p></li> <li><p>使用<code>&lt;template id=&quot;template1&quot;&gt;&lt;/template&gt;</code>,然后将此标签赋值给<code>template</code>属性</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;c1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>template<span class="token operator">:</span><span class="token string">&quot;#template1&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ol> <h3 id="_5-组件中的数据存放"><a href="#_5-组件中的数据存放" class="header-anchor">#</a> 5. 组件中的数据存放</h3> <ol><li>组件中的数据存放
<ul><li><p>不像vue实例一样,data属性是对象</p></li> <li><p>组件中的<code>data</code>是函数,且必须返回对象,返回的对象中放数据</p> <div class="language-js extra-class"><pre class="language-js"><code>Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    template<span class="token operator">:</span><span class="token string">&quot;#template1&quot;</span><span class="token punctuation">,</span>
    <span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
            data1<span class="token operator">:</span><span class="token string">&quot;aaaa&quot;</span><span class="token punctuation">,</span>
            data2<span class="token operator">:</span><span class="token string">&quot;bbbb&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>组件把数据保存在函数中,是为了保证同一个组件被复用时,数据不共享(如果数据在对象中就会被共享)</li></ul></li></ul></li></ol> <h3 id="_6-父子组件的通信"><a href="#_6-父子组件的通信" class="header-anchor">#</a> 6. 父子组件的通信</h3> <ol><li>父子组件的通信
<ol><li><p>父组件通过<code>子组件的props</code>向子组件传递数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;app&quot;</span><span class="token operator">&gt;</span>
<span class="token comment">//通过v-bind将父组件的data传给子组件的props</span>
<span class="token operator">&lt;</span>c1 v<span class="token operator">-</span>bind<span class="token operator">:</span>FtherLetters<span class="token operator">=</span><span class="token string">&quot;letters&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>c1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token comment">//子组件模板</span>
<span class="token operator">&lt;</span>template id<span class="token operator">=</span><span class="token string">&quot;template&quot;</span><span class="token operator">&gt;</span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>

<span class="token comment">//子组件</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;c1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    template <span class="token operator">:</span><span class="token string">&quot;#template1&quot;</span><span class="token punctuation">,</span>
    props<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;FatherLetters&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;xxx&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token comment">//父组件</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        letters<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;b&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;c&quot;</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><ul><li><code>props属性</code>除了可以用数组还可以用对象(常用)
<ul><li><p>正常单层对象来限制props的类型</p> <div class="language-js extra-class"><pre class="language-js"><code>props<span class="token operator">:</span><span class="token punctuation">{</span>FatherLetters<span class="token operator">:</span>Array<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>多层对象来给props添加更多选项</p> <div class="language-js extra-class"><pre class="language-js"><code>props<span class="token operator">:</span><span class="token punctuation">{</span>
    FatherLetters<span class="token operator">:</span>
    <span class="token punctuation">{</span>
        type<span class="token operator">:</span>Array<span class="token punctuation">,</span>
        <span class="token keyword">default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span> <span class="token comment">//类型时对象或者数组时,default必须是函数</span>
            <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token operator">...</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        require<span class="token operator">:</span><span class="token boolean">true</span>
    <span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre></div></li> <li><p>除了上面常用的对象类型的props以外,<code>props</code>还有很多用法
<img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200508002550.png" alt="20200508002550"></p></li></ul></li> <li>props最好不要设置驼峰,否则在用 <code>v-bind:</code>绑定的时候驼峰<code>xxxYyy</code>需要改成<code>xxx-yyy</code></li></ul></li> <li><p>子组件通过自定义事件向父组件发送数据</p> <ul><li><p>第一步:子组件模板定义事件</p></li> <li><p>第二步:子组件实例定义事件回调函数,函数中绑定<code>this.$emit(事件名,数据)</code></p></li> <li><p>第三步: 父组件中的子组件标签调用$emit中传递的事件</p></li> <li><p>第四步 :父组件实例中定义自定义事件的回调函数,形参默认就是子组件传过来的数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//view</span>
<span class="token comment">//父组件</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>c1 @sub<span class="token operator">-</span>click<span class="token operator">=</span><span class="token string">&quot;fatherClick&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>c1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">//子组件模板</span>
<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>button @click<span class="token operator">=</span><span class="token string">&quot;btnClick(item)&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token comment">//model</span>
<span class="token comment">//子组件发射自定义事件</span>
Vue<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span><span class="token string">&quot;c1&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
    <span class="token operator">...</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">btnClick</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$emit</span><span class="token punctuation">(</span><span class="token string">&quot;sub-click&quot;</span><span class="token punctuation">,</span>item<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">fatherClick</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token operator">...</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li> <li><p><strong>实战案例</strong>:实现父组件向子组件传递数据后,子组件修改这份数据后还能传回给父组件的数据同时也修改</p></li></ol></li></ol> <h3 id="_7-父子组件引用"><a href="#_7-父子组件引用" class="header-anchor">#</a> 7.父子组件引用</h3> <ol><li>父访问子
<ol><li>用<code>$children</code>拿子组件实例(<strong>不推荐</strong>)
<ul><li><code>$children</code>返回所有子组件的数组(不好维护)</li></ul></li> <li>用<code>&amp;ref</code>拿子组件实例(<strong>推荐</strong>)
<ul><li>子组件调用时,必须在标签中声明<code>ref=&quot;sub&quot;</code>属性来制造一个标识</li> <li>父组件调用<code>$ref.sub</code>获取子组件实例</li></ul></li></ol></li> <li>子访问父
<ol><li>用<code>$parent</code>拿父组件实例(<strong>几乎不使用</strong>)
<ul><li>因为子组件经常被复用,所以返回的父组件都是不同的,所以<strong>不推荐</strong>适用</li></ul></li> <li>用<code>$root</code> 拿Vue实例(<strong>几乎不使用</strong>)
<ul><li>还是</li></ul></li></ol></li></ol> <h2 id="组件化高级"><a href="#组件化高级" class="header-anchor">#</a> 组件化高级</h2> <h3 id="_1-插槽"><a href="#_1-插槽" class="header-anchor">#</a> 1. 插槽</h3> <ol><li><p>同一个组件需要不同的拓展时,就需要用插槽(有点像interface)</p></li> <li><p>子组件模板上定义<code>slot</code></p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    ...
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ul><li><p>上面代码插槽还能直接在<code>slot</code>中写元素设定默认值</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//子组件模板内</span>
<span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>如果有多个插槽,可以设置<code>name</code>属性,方便父组件调用具名插槽</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//子组件模板内</span>
<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;slot1&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot name<span class="token operator">=</span><span class="token string">&quot;slot2&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>slot<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
</code></pre></div></li></ul></li> <li><p>当父组件调用子组件时,在子组件标签内部添加的标签就是插槽</p> <ul><li><p>如果是有多个具名插槽,在向具名插槽提供内容的时候，我们可以在一个<code>&lt;template&gt;</code>元素上使用 <code>v-slot 指令</code>，并以 <code>v-slot</code> 的参数的形式提供其名称：</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>childCom<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>slot1<span class="token operator">&gt;</span>
           <span class="token comment">//然后这边写内容</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span>slot2<span class="token operator">&gt;</span>
           <span class="token comment">//然后这边写内容</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>template v<span class="token operator">-</span>slot<span class="token operator">:</span><span class="token keyword">default</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>childCom<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
</code></pre></div><ul><li><strong>注意</strong>:具名插槽的调用必须使用<code>&lt;template&gt;</code>配合<code>v-slot</code>,除非子组件只有一个插槽.</li></ul></li></ul></li></ol> <h3 id="_2-编译作用域"><a href="#_2-编译作用域" class="header-anchor">#</a> 2. 编译作用域</h3> <ol><li><p>每个组件都有自己的作用域,所以父组件拿不到子组件的数据</p></li> <li><p>作用域插槽:父组件替换插槽的标签,但是内容由子组件来提供</p> <ul><li>可以利用作用域插槽将子组件的数据传给父组件</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//父组件</span>
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">&quot;vm&quot;</span><span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span>c1 v<span class="token operator">-</span>slot<span class="token operator">=</span><span class="token string">&quot;slotProp&quot;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>div <span class="token operator">&gt;</span>
            <span class="token punctuation">{</span><span class="token punctuation">{</span>slotProp<span class="token punctuation">.</span>movies<span class="token punctuation">.</span>xxx<span class="token punctuation">}</span><span class="token punctuation">}</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
   <span class="token operator">&lt;</span><span class="token operator">/</span>c1<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

<span class="token operator">&lt;</span>template id<span class="token operator">=</span><span class="token string">&quot;c1&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>slot <span class="token operator">:</span>movies<span class="token operator">=</span><span class="token string">&quot;movies&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>slot<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>template<span class="token operator">&gt;</span>
</code></pre></div><ul><li><p>如果有多个具名插槽,<code>v-slot</code>就始终用在<code>&lt;template&gt;</code>标签内</p></li> <li><p>上面父组件取到子组件作用域的<code>movies</code>可以配合解构赋值来简单取到</p> <div class="language-js extra-class"><pre class="language-js"><code> <span class="token operator">&lt;</span>c1 v<span class="token operator">-</span>slot<span class="token operator">=</span><span class="token string">&quot;{movies}&quot;</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>div <span class="token operator">&gt;</span>
        <span class="token punctuation">{</span><span class="token punctuation">{</span>slotProp<span class="token punctuation">.</span>movies<span class="token punctuation">.</span>xxx<span class="token punctuation">}</span><span class="token punctuation">}</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>c1<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p><code>v-slot</code>可以用缩写语法糖<code>#</code></p></li></ul></li></ol> <h2 id="webpack配置vue"><a href="#webpack配置vue" class="header-anchor">#</a> webpack配置vue</h2> <h3 id="下载vue"><a href="#下载vue" class="header-anchor">#</a> 下载vue</h3> <ol><li><p>下载Vue<code>npm i vue --save</code></p></li> <li><p>如果webpack打包的时候也不能能打包vue的模板,报错的话,设置<code>webpack.config.js</code>的<code>resolve属性</code></p> <div class="language-js extra-class"><pre class="language-js"><code>resolve<span class="token operator">:</span><span class="token punctuation">{</span>
    alias<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token string">&quot;vue$&quot;</span><span class="token operator">:</span><span class="token string">&quot;vue/dist/vue.esm.js&quot;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="vue的终极使用方案"><a href="#vue的终极使用方案" class="header-anchor">#</a> vue的终极使用方案</h3> <ol><li><p>将每一个组件都分离出来成一个xxx.vue文件</p> <ul><li>vue后缀文件有<code>template</code> <code>script</code> <code>style</code>三个大标签分别对应组件的html,js,css</li></ul></li> <li><p>将组件文件导入到主组件,传给vue实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> c1 <span class="token keyword">from</span> <span class="token string">&quot;xxx/c1.vue&quot;</span>
<span class="token keyword">const</span> app <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    el<span class="token operator">:</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">,</span>
    template<span class="token operator">:</span><span class="token string">&quot;&lt;/c1&gt;&quot;</span><span class="token punctuation">,</span>
    components<span class="token operator">:</span><span class="token punctuation">{</span>
        c1
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>为了让webpack打包vue后缀的文件和读懂文件里面的<code>template</code>标签,需要下载<code>vue-loader</code> ,<code>vue-template-compiler</code></p> <div class="language-js extra-class"><pre class="language-js"><code>npm i vue<span class="token operator">-</span>loader vue<span class="token operator">-</span>template<span class="token operator">-</span>compiler <span class="token operator">-</span><span class="token constant">D</span>
</code></pre></div></li> <li><p>配置<code>webpack.config.js</code></p> <div class="language-js extra-class"><pre class="language-js"><code>rules<span class="token operator">:</span><span class="token punctuation">{</span>
    test<span class="token operator">:</span><span class="token regex">/\.vue$/</span><span class="token punctuation">,</span>
    loader<span class="token operator">:</span><span class="token string">&quot;vue-loader&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h2 id="vue脚手架"><a href="#vue脚手架" class="header-anchor">#</a> Vue脚手架</h2> <ol><li>一般开发时不会从头配置webpack,都会使用脚手架<code>Vue CLI</code></li> <li>安装脚手架<code>npm i @vue/cli -g</code> <ul><li>上面安装的是Vue CLI3的版本</li> <li>如果想要使用Vue CLI2的话,使用<code>npm i @vue/cli-init</code>,就既能使用CLI2也能使用CLI3</li></ul></li> <li>初始化项目
<ul><li><code>vue init webpack 项目名称</code> 创建Vue CLI2</li> <li><code>vue create 项目名称</code> 创建Vue CLI3</li></ul></li> <li>脚手架的文件目录解析</li></ol> <p><img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200508221734.png" alt="20200508221734"></p> <ol start="5"><li>脚手架主文件的<code>render方法</code> <ul><li>h 为<code>createElement函数</code> <ul><li>传入标签 <code>createElement(&quot;标签名&quot;,{标签的属性},[&quot;内容&quot;])</code></li> <li>传入组件 <code>createElement(组件实例)</code></li></ul></li></ul></li> <li>如果选择<code>readtime-compiler</code>的话,主文件没有<code>render</code>方法,是有普通的渲染模板的方法创建组件
<ul><li>渲染页面流程<code>template -&gt; ast -&gt; render -&gt; vDOM -&gt; UI</code></li></ul></li> <li><code>readtime-only</code>的话,主文件不需要渲染<code>template</code>和抽象语法树,直接进行<code>render</code> <ul><li>渲染页面流程<code>render -&gt; vDOM -&gt; UI</code></li></ul></li> <li>本地运行打包后的配置文件可以借助node的服务器包 <code>npm i -g server</code> <ul><li><code>serve -s dist</code> : <code>-s</code>表示单页面应用</li></ul></li></ol> <h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> vue-router</h2> <h3 id="_1-web开发历史"><a href="#_1-web开发历史" class="header-anchor">#</a> 1. web开发历史</h3> <ol><li>后端渲染阶段(jsp+html+java之类的,直接在后台写页面)</li> <li>前后端分离阶段(后端只提供数据,不负责任何页面的内容)
<ul><li>前端拿到静态资源渲染整个页面</li> <li>前端通过ajax渲染网页交互的大部分内容</li></ul></li> <li>单页面富应用阶段(single page applicaiton)
<ul><li>一般整个应用只有一个html</li> <li>通过前端路由可以将单页面应用的分成多个页面(多个大组件)</li> <li>前端路由管理页面的<code>url-&gt;页面(大组件)</code>的关系</li> <li>前端路由的核心就是改变URL,但是页面不刷新</li></ul></li></ol> <h3 id="_2-改变网页url而不刷新网页的两种方式"><a href="#_2-改变网页url而不刷新网页的两种方式" class="header-anchor">#</a> 2. 改变网页url而不刷新网页的两种方式</h3> <ol><li><code>location.hash=&quot;xxx&quot;</code></li> <li><code>history.pushState({},&quot;&quot;,&quot;xxx&quot;)</code>或者<code>history.replaceState({},&quot;&quot;,&quot;xxx&quot;)</code> <ul><li><code>replace</code>不保存历史记录</li> <li><code>history.pushState()</code>完后,可以通过<code>go() ,back(),forward()</code>来调用改变网页url</li></ul></li></ol> <h3 id="_3-vue-router是基于路由和组件的"><a href="#_3-vue-router是基于路由和组件的" class="header-anchor">#</a> 3. vue-router是基于路由和组件的</h3> <ol><li>路由用于设定访问路径,将路径和组件映射起来</li> <li>所在在vue-router的单页面应用中,页面的路径的改变就是组件的切换.</li></ol> <h3 id="_4-安装路由npm-i-vue-router-save或者脚手架傻瓜依赖"><a href="#_4-安装路由npm-i-vue-router-save或者脚手架傻瓜依赖" class="header-anchor">#</a> 4. 安装路由<code>npm i vue-router --save</code>或者脚手架傻瓜依赖</h3> <h3 id="_5-使用路由"><a href="#_5-使用路由" class="header-anchor">#</a> 5. 使用路由</h3> <ol><li><p>导入路由对象 <code>Vue.use(Vuerouter)</code></p></li> <li><p>创建路由实例,并且传入路由映射配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    routes<span class="token operator">:</span><span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
            path<span class="token operator">:</span><span class="token string">&quot;/xxx&quot;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> xxx
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span>
            path<span class="token operator">:</span><span class="token string">&quot;/yyy&quot;</span><span class="token punctuation">,</span>
            component<span class="token operator">:</span> yyy
        <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>在Vue实例中挂载创建的路由实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
    router<span class="token operator">:</span>router1
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在APP模板中使用</p> <ul><li><p><code>&lt;route-link to=&quot;/xxx&quot;&gt;&lt;/route-link&gt;</code> :允许用户点击时,跳转到哪个组件</p> <ul><li>该标签默认被渲染为a标签</li> <li>可以设置<code>tag</code>属性,修改渲染成其他标签,如<code>tag=&quot;button&quot;</code>可以修改成按钮标签</li> <li>可以设置<code>replace</code>属性,改变路由跳转的方式为<code>history.replaceState()</code>而不是<code>pushState()</code></li> <li>标签被激活时,vue会被该标签添加激活时的class属性,我们可以通过这个class名,去修改激活时的样式
<ul><li><p>可以通过<code>active-class</code>标签修改默认的class的名字</p></li> <li><p>也可以通过创建路由实例时,对象参数中的<code>linkActiveClass</code>属性修改</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    linkActiveClass <span class="token operator">:</span> <span class="token string">&quot;active&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ul></li></ul></li> <li><p>也可以通过事件绑定回调函数调用时,修改路由路径</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
        methods<span class="token operator">:</span><span class="token punctuation">{</span>
            <span class="token function">btnclick</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/xxx&quot;</span><span class="token punctuation">)</span>
                <span class="token comment">//或者不希望保留历史记录时,用replace</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">&quot;/yyy&quot;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>&lt;route-view&gt;&lt;/route-view&gt;</code> :用户点击<code>route-link</code>时,显示的对应的组件的<code>route-view</code>标签</p></li></ul></li></ol> <h3 id="_6-设置页面路由的默认路径"><a href="#_6-设置页面路由的默认路径" class="header-anchor">#</a> 6. 设置页面路由的默认路径</h3> <ol><li><p>在创建路由实例的时候添加重定向</p> <div class="language-js extra-class"><pre class="language-js"><code>    <span class="token keyword">const</span> router1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token comment">//默认路由</span>
        <span class="token punctuation">{</span>path<span class="token operator">:</span><span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
        redirect<span class="token operator">:</span><span class="token string">&quot;/xxx&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//其他路由</span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="_7-修改路由改变url的模式"><a href="#_7-修改路由改变url的模式" class="header-anchor">#</a> 7. 修改路由改变Url的模式</h3> <ol><li><p>默认是用<code>local.hash</code></p></li> <li><p>可以在路由实例中修改为<code>history</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> router1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">VueRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    mode<span class="token operator">:</span><span class="token string">&quot;history&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="_8-动态路由的使用"><a href="#_8-动态路由的使用" class="header-anchor">#</a> 8. 动态路由的使用</h3> <ol><li><p>配置路由对象时,声明路径可动态</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token punctuation">{</span>
    path<span class="token operator">:</span><span class="token string">&quot;/xxx/:user&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>给<code>router-link</code>的<code>to</code>属性传入动态数据</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link v<span class="token operator">-</span>bind<span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;'/xxx/'+userName&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><ul><li><code>userName</code>为Vue实例中的<code>data</code></li></ul></li> <li><p>此时<code>xxx</code>的路由组件能通过调用<code>$route.params.user</code>获取到动态数据<code>kaki</code></p></li></ol> <h3 id="路由的懒加载"><a href="#路由的懒加载" class="header-anchor">#</a> 路由的懒加载</h3> <ol><li><p>一般大型项目中的代码很多,必须要<code>code split</code>,不能一次性加载,所以一般<strong>每个路由都用懒加载</strong></p></li> <li><p>路由懒加载在路由配置文件中定义</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> <span class="token function-variable function">xxx</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;/xxx&quot;</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="路由的嵌套"><a href="#路由的嵌套" class="header-anchor">#</a> 路由的嵌套</h3> <ol><li><p>在外部路由对象中添加<code>children</code>属性</p> <div class="language-js extra-class"><pre class="language-js"><code>    path<span class="token operator">:</span><span class="token string">&quot;/xxx&quot;</span><span class="token punctuation">,</span>
    children <span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//配置该路由路径为/xxx/xxx01</span>
        path<span class="token operator">:</span><span class="token string">&quot;xxx01&quot;</span><span class="token punctuation">,</span>
        <span class="token comment">//懒加载</span>
        <span class="token function-variable function">component</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">&quot;/xxx01.vue&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
</code></pre></div></li> <li><p>在外部路由组件模板中使用<code>&lt;router-link to=&quot;/xxx/xxx01&gt;&quot;</code>和<code>&lt;router-view&gt;</code></p></li></ol> <h3 id="路由之间数据的传递"><a href="#路由之间数据的传递" class="header-anchor">#</a> 路由之间数据的传递</h3> <ol><li><p>在路由路径后面加参数传递(动态路由)</p></li> <li><p>用在主页面上用<code>query</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>router<span class="token operator">-</span>link v<span class="token operator">-</span>bind<span class="token operator">:</span>to<span class="token operator">=</span><span class="token string">&quot;{path:&quot;</span><span class="token operator">/</span>xxx<span class="token string">&quot;,query:{name:&quot;</span>kaki<span class="token string">&quot;,age:&quot;</span><span class="token number">25</span><span class="token string">&quot;}}&quot;</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>link<span class="token operator">&gt;</span>
</code></pre></div><ul><li>在目标路由上用<code>$route.query.xxx</code>取到数据</li></ul></li> <li><p>上面两种数据传递的方式也可以在函数内调用<code>this.$router.push()</code>传递参数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> app <span class="token operator">=</span><span class="token keyword">new</span> <span class="token class-name">Vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
    data<span class="token operator">:</span><span class="token punctuation">{</span>
        name<span class="token operator">:</span><span class="token string">&quot;kaki&quot;</span><span class="token punctuation">,</span>
        age<span class="token operator">:</span><span class="token string">&quot;25&quot;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">jumpToRoute2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                path<span class="token operator">:</span><span class="token string">&quot;/xxx&quot;</span><span class="token operator">+</span><span class="token keyword">this</span><span class="token punctuation">.</span>name
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token comment">//或者</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                path<span class="token operator">:</span><span class="token string">&quot;/xxx&quot;</span><span class="token punctuation">,</span>
                query<span class="token operator">:</span><span class="token punctuation">{</span>
                    name<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span>
                    age<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>age
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="this-router-和-this-route"><a href="#this-router-和-this-route" class="header-anchor">#</a> this.$router 和 this.$route</h3> <ol><li><code>this.$router</code>是每个组件都有的属性,相当于<code>VueRouter</code> <ul><li>因为每个组件的原型都是Vue类,而$router是Vue类的原型的方法</li></ul></li> <li><code>this.$route</code>是每一个路由组件都有的属性</li></ol> <h3 id="全局导航守卫"><a href="#全局导航守卫" class="header-anchor">#</a> 全局导航守卫</h3> <ol><li><p><code>router</code>对象有一个函数<code>beforeEach()</code>可以用来监听<em>从一个路由跳到另外一个路由之前的</em>事件,对应<em>从一个路由跳到另外一个路由之后的</em><code>afterEach()</code>事件</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span><span class="token keyword">from</span><span class="token punctuation">,</span>next</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">//路由对象的meta可以来放一下数据,这边放了每个路由对应的title</span>
    document<span class="token punctuation">.</span>title <span class="token operator">=</span> to<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>title
    <span class="token comment">//当重写了这个方法时,必须先调一次next()</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>函数中有三个参数分别为
<ol><li><code>to</code>:跳转后的路由</li> <li><code>from</code>跳转前的路由</li> <li><code>next()</code>:调用该方法才能进入下一个钩子函数</li></ol></li></ul></li></ol> <h3 id="路由独享守卫"><a href="#路由独享守卫" class="header-anchor">#</a> 路由独享守卫</h3> <ol><li>与<code>全局导航守卫</code>不同,每个路由可以独立设置守卫监听该路由的行为</li> <li>在路由对象中(与path相同位置)设置<code>beforeEnter</code>等属性定义</li></ol> <h3 id="keep-alive"><a href="#keep-alive" class="header-anchor">#</a> Keep-alive</h3> <ol><li><p>因为每次路由跳转时,前一个路由都会被销毁(路径会被重置),所以需要用<code>keep-alive</code>,在标签<code>router-view</code>外面使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token operator">&lt;</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>router<span class="token operator">-</span>view<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>keep<span class="token operator">-</span>alive<span class="token operator">&gt;</span>
</code></pre></div></li> <li><p>被<code>keep-alive</code>包裹的路由会有<code>actived()</code>和<code>deactived()</code>的钩子函数可以调用</p> <ul><li><code>keep-alive</code>标签有<code>include exclude</code>属性,可以精确包含或者排除某些组件的缓存,这两个属性都是匹配组件的名字,都可以用正则</li></ul></li> <li><p><code>actived()</code>配合<code>beforeRouteLeave()</code>钩子函数可以保存跳转前的路由的子路由</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">default</span><span class="token punctuation">{</span>
    <span class="token function">activated</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>$router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>path<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>path
     <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="vue-router实战-手机端底部tabbar"><a href="#vue-router实战-手机端底部tabbar" class="header-anchor">#</a> vue-router实战:手机端底部tabbar</h3> <ol><li>效果图</li></ol> <p><img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200511215758.png" alt="20200511215758"></p> <ol><li>需求:
<ol><li>足够灵活,能够扩展tab,并且自动布局</li> <li>一般tabbar的高度都是<code>49px</code></li> <li>所有组件进行封装</li> <li>颜色也进行封装</li></ol></li> <li>建议:
<ol><li>css代码也在vue组件中写.如果有css文件需要导入的话用<code>@import</code></li> <li>图片的默认三像素可以用<code>vertical-align: middle</code>去掉</li> <li>如果有动态需求,首先考虑插槽</li> <li>如果需要为插槽增加动态样式,可以在插槽外面包裹一层div,因为如果动态样式直接放在插槽标签上,当插槽被替换掉的时候,class也被替换掉了,就不起作用了</li> <li>颜色用动态样式绑定,可以让用户自定义颜色</li> <li>可以利用<code>webpack</code>的<code>resolve</code>属性给路径取别名
<ul><li>如果取了别名的话,DOM元素的路径需要在前面加<code>~</code></li></ul></li></ol></li></ol> <h2 id="promise查缺补漏"><a href="#promise查缺补漏" class="header-anchor">#</a> Promise查缺补漏</h2> <ol><li><p>es6新增的解决异步编程的一种方案</p></li> <li><p>解决了ajax的回调地狱,可以更优雅的解决多次异步请求</p></li> <li><p>一般有异步操作时,使用promise对这个异步进行封装</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//写网络请求不写处理操作!!此回调函数是同步的,new Promise()创建时,立即执行</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//网络请求完后异步操作</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//网络请求失败后异步操作</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>如果调用了<code>resolve()</code>的话,会调用<code>then((xx)=&gt;{})</code>,如果<code>resolve()</code>有传参数的话,参数会传给<code>xx</code></p></li> <li><p>如果调用了<code>reject()</code>的话,会调用<code>catch((xx)=&gt;{})</code>,如果<code>reject()</code>有传参数的话,参数会传给<code>yy</code></p></li> <li><p>promise也可以用下面使用方式,将<code>then()</code>与<code>catch()</code>合为<code>then()</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token parameter">err</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>如果在链式调用的情况下<code>new Promise()</code>的回调函数用法</p> <ol><li>如果在<code>then()</code>中操作完后还有请求的话,可以<code>return new Promise((resolve,rejecxt)=&gt;{... resolve(xx)})</code>继续发送网络请求,然后继续链式调用<code>then(xx)</code></li> <li><code>new Promise()</code>的回调函数中没有<code>setTimeout</code>之类的异步请求的话,可以用<code>return Promise.resolve(xx)</code>,然后继续<code>then((xx)=&gt;{})</code> <ul><li>请求失败时:<code>return Promise.reject(yy)</code></li></ul></li> <li><code>new Promise(()=&gt;{})</code>的回调函数中没有<code>setTimeout</code>之类的异步请求的话,可以用<code>return xx</code>,然后继续<code>then((xx)=&gt;{})</code> <ul><li>请求失败时:<code>throw yyy</code></li></ul></li></ol></li> <li><p>Promise对象本身(非实例)还有几个方法</p> <ul><li><p><code>Promise.all()</code>: 当all参数中的所有<code>promise</code>都请求完了才会调用<code>then()</code>,<code>then()</code>中参数是两个promise的<code>resolve()</code>参数中的数据</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span>promise2<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token operator">...</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><code>Promise.race()</code>:当race参数中的所有<code>promise</code>只要有一个失败或者成功了,就直接调用该promise对应的失败或者成功的处理,即:谁跑得快,处理谁,其他的都不管</p> <div class="language-js extra-class"><pre class="language-js"><code>Promise<span class="token punctuation">.</span><span class="token function">race</span><span class="token punctuation">(</span><span class="token punctuation">[</span>promise1<span class="token punctuation">,</span>promise2<span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">promise1的成功或者失败的数据</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//如果promise1跑赢了就执行这边</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">(</span><span class="token parameter">promise2的成功或者失败的数据</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//如果promise2跑赢了就执行这边</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p><code>Promise.resolve()</code> : 上文出现过</p></li> <li><p><code>Promise.reject()</code> : 上文出现过</p></li></ul></li></ol> <h2 id="vuex"><a href="#vuex" class="header-anchor">#</a> Vuex</h2> <ol><li><p>概念</p> <ol><li>Vuex是专为Vue.js应用程序开发的状态管理模式,集中管理所有组件的状态.</li> <li>Vuex类似一个原型对象,就是让所有组件的属性和方法共享,但是它牛逼的地方是响应式的</li></ol></li> <li><p>一般管理需要在各个页面都需要的东西</p> <ol><li>用户登录状态(token)</li> <li>用户的各种资料(名称,地理位置)</li> <li>商品的收藏,购物车中的物品</li></ol></li> <li><p>使用</p> <ol><li><p>Vuex是个插件,需要安装<code>npm i vuex --save</code>,导入后用Vue.use(vuex)</p></li> <li><p>创建对象</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    state<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    getters<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    modules<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>所有组件都可以使用:<code>$store.xxx.xxx</code></p></li></ol></li> <li><p>vuex的推荐使用的官方图例
<img src="https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20200513121636.png" alt="20200513121636"></p></li> <li><p>使用建议</p> <ul><li>一般不直接修改<code>state</code>的值,而是通过<code>mutation</code>修改<code>state</code>的值</li> <li>官方推荐单一状态树,永远只创建一个store进行管理</li></ul></li></ol> <h3 id="使用state-类似于定义全局的data"><a href="#使用state-类似于定义全局的data" class="header-anchor">#</a> . 使用<code>state</code> : 类似于定义全局的<code>data</code></h3> <ol><li>通过方法手动给state添加/删除数据时,需要用<code>Vue.set(state.xxx,key|number,value)</code>和<code>Vue.delete(statexxx,key|number)</code>,否则无法做到响应式.</li> <li>拓展:组件添加/删除<code>data</code>时用<code>this.arr[i]=&quot;xxx&quot;</code>的方式也无法做到响应式</li></ol> <h3 id="使用mutations-store的唯一的更新的方式"><a href="#使用mutations-store的唯一的更新的方式" class="header-anchor">#</a> 使用<code>mutations</code>: <code>$store</code>的唯一的更新的方式</h3> <ol><li><p>使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//在vuex中定义mutation</span>
<span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    mutation<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//第一种使用方法</span>
        <span class="token function">add</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>xxx <span class="token operator">...</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//第二种使用方法</span>
        <span class="token comment">//第二个参数可以接受组件传的数据</span>
        <span class="token function">minus</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>count</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>xxx <span class="token operator">...</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//第三种使用方法</span>
        <span class="token function">mutiply</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//此时payload是组件传过来的所有参数的对象,即使传过来的数据只有一个,也是对象</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">//在组件的事件函数中使用</span>
<span class="token punctuation">{</span>
    name<span class="token operator">:</span><span class="token string">&quot;c1&quot;</span><span class="token punctuation">,</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">addition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//第一种使用方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;add&quot;</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">substraction</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//第二种使用方法,传给mutation的参数成为payload(负载)</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;minus&quot;</span><span class="token punctuation">,</span>count<span class="token punctuation">)</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token function">mutiple</span><span class="token punctuation">(</span><span class="token parameter">count<span class="token punctuation">,</span>times</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//第三种使用方法</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                type<span class="token operator">:</span><span class="token string">&quot;mutiply&quot;</span><span class="token punctuation">,</span>
                count<span class="token punctuation">,</span>
                times
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>定义<code>mutations</code>的type的名字最好使用常量</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span><span class="token constant">ADD</span><span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;mutation-type.js&quot;</span>
mutations<span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token constant">ADD</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p><code>mutations</code>的函数得是同步的!!需要异步用<code>actions</code></p></li> <li><p><strong>实战</strong>:用<code>vuex</code>实现最简单的加减事件</p></li></ol> <h3 id="使用getters"><a href="#使用getters" class="header-anchor">#</a> 使用<code>getters</code>:</h3> <ol><li><p>类似于组件中的<code>computed</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>Store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    getters<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">xxx</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//通过参数对state中的数据进行处理</span>
        <span class="token punctuation">}</span>
        <span class="token function">xxx</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>getters</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//通过第二个参数可以去其他getter拿数据</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//如果希望用户自定义参数的话,可以返回一个自定义函数,拿到用户的参数</span>
        <span class="token function">xxx</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">age</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//此时age是用户传的参数</span>
                <span class="token keyword">return</span> xxx
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="使用actions"><a href="#使用actions" class="header-anchor">#</a> 使用<code>actions</code></h3> <ol><li><p>使用</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//组件中代码</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
    methods<span class="token operator">:</span><span class="token punctuation">{</span>
       <span class="token function">upd</span><span class="token punctuation">(</span><span class="token parameter">xxx</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token comment">//第一种</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">diapatch</span><span class="token punctuation">(</span><span class="token string">&quot;aUpdate&quot;</span><span class="token punctuation">)</span>
            <span class="token comment">//第二种</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">diapatch</span><span class="token punctuation">(</span><span class="token string">&quot;aUpdate&quot;</span><span class="token punctuation">,</span>xxx<span class="token punctuation">)</span>
            <span class="token comment">//第三种,如果异步请求完成后有回调的话,可以配合promise</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>$store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token string">&quot;aUpdate&quot;</span><span class="token punctuation">,</span>xxx<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
       <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token comment">//vuex中代码</span>
<span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">update</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            state<span class="token punctuation">.</span>xxx <span class="token operator">=</span> <span class="token string">&quot;xx&quot;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token comment">//第一种</span>
        <span class="token function">aUpdate</span><span class="token punctuation">(</span><span class="token parameter">context</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token comment">//此时context参数相当于this.$store</span>
            <span class="token comment">//处理异步操作,处理完后再交给mutations的方法去处理数据,</span>
            context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;update&quot;</span><span class="token punctuation">)</span>
            <span class="token comment">//然后再修改state</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">//第二种</span>
        <span class="token function">aUpdate</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;update&quot;</span><span class="token punctuation">,</span>payload<span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
        <span class="token comment">//第三种</span>
        <span class="token function">aUpdate</span><span class="token punctuation">(</span><span class="token parameter">context<span class="token punctuation">,</span>payload</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            context<span class="token punctuation">.</span><span class="token function">commit</span><span class="token punctuation">(</span><span class="token string">&quot;update&quot;</span><span class="token punctuation">,</span>payload<span class="token punctuation">)</span>
            <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span>reject</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token operator">...</span>
                <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h3 id="使用modules"><a href="#使用modules" class="header-anchor">#</a> 使用<code>modules</code></h3> <ol><li><p>当<code>store</code>很大很杂时,可以用modules进行划分</p></li> <li><p>可以将<code>state</code>,<code>getters</code>,<code>mutations</code>,<code>actions</code>划分成一个模块</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> moduleA <span class="token operator">=</span> <span class="token punctuation">{</span>
    state<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//用this.$store.modulaA.xxx调用</span>
    getters<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">xxx</span><span class="token punctuation">(</span>state<span class="token punctuation">,</span>getter<span class="token punctuation">,</span>rootState<span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token comment">//用this.$store.xxx调用</span>
    mutations<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">//用this.$store.commit(&quot;xx&quot;)调用</span>
    actions<span class="token operator">:</span><span class="token punctuation">{</span>
        <span class="token function">xxx</span><span class="token punctuation">(</span>context<span class="token punctuation">)</span> <span class="token comment">//context.commit()只能提交当前的mutation</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">//然后在store中调用</span>
<span class="token keyword">new</span> <span class="token class-name">Vuex<span class="token punctuation">.</span>store</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    modules<span class="token operator">:</span><span class="token punctuation">{</span>
        moduleA
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol> <h2 id="网络模块的封装"><a href="#网络模块的封装" class="header-anchor">#</a> 网络模块的封装</h2> <ol><li><p>选择axios代替ajax</p></li> <li><p>功能特点:</p> <ol><li>浏览器中发送XMLHttpRequests请求</li> <li>在node.js中发送http请求</li> <li>支持promise API</li> <li>拦截请求和 响应</li> <li>转换请求和响应数据</li></ol></li> <li><p>安装axios</p> <ol><li>下载<code>npm i axios --save</code></li> <li>导入后直接使用</li></ol></li> <li><p>使用axios:最简单的方式<code>axios(config)</code></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span>
<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">&quot;http...&quot;</span><span class="token punctuation">,</span>
    method<span class="token operator">:</span><span class="token string">&quot;get&quot;</span><span class="token comment">//method可以省略,默认调用get请求</span>
    params<span class="token operator">:</span><span class="token punctuation">{</span><span class="token comment">//专门针对get请求的参数拼接</span>
        <span class="token operator">...</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">res</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>可以上<code>httpbin.org</code>去造数据</p></li> <li><p>axios框架也有<code>axios.all([axios1,axios2])</code>,用法类<code>Promise.all([xx,xx])</code></p></li> <li><p>axios的全局配置</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">//配置全局的URL</span>
axios<span class="token punctuation">.</span>default<span class="token punctuation">.</span>baseURL <span class="token operator">=</span> <span class="token string">&quot;http://...&quot;</span>
<span class="token comment">//获取请求时就不用写很长了</span>
axios<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">&quot;/home/data&quot;</span><span class="token punctuation">,</span><span class="token punctuation">{</span>params<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>axios可以创建实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">const</span> instance1 <span class="token operator">=</span> axios<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    baseURL<span class="token operator">:</span><span class="token string">&quot;http://&quot;</span><span class="token comment">//该实例中的全局配置,只在该实例发送的请求中生效.</span>
    timeout<span class="token operator">:</span> <span class="token number">5000</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token function">instance1</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    url<span class="token operator">:</span><span class="token string">&quot;home/xxx&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><ul><li>开发中一般都用axios的实例实例发送请求而不是直接用axios对象</li></ul></li> <li><p>如果有第三方库的时候,最好对其进行封装成一个文件,在再所有的组件中调用该文件,而不是直接在所有组件中引入第三方库.</p> <ul><li>如果有一天第三方库不维护了,或者Bug了.就麻烦了</li></ul></li> <li><p>封装axios成自己的文件</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">&quot;axios&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">request</span><span class="token punctuation">(</span><span class="token parameter">config</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    cousnt instance <span class="token operator">=</span> axiot<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        baseURL <span class="token operator">=</span> <span class="token string">&quot;http://&quot;</span><span class="token punctuation">,</span>
        timeout<span class="token operator">:</span><span class="token number">5000</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token keyword">return</span> <span class="token function">instance</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token comment">//因为instance(config)本身就是返回Promise,所以我们可以直接return此promise到各个组件去then()</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>axios提供了拦截器:</p> <ol><li><p>拦截种类</p> <ol><li><p>请求成功的拦截</p></li> <li><p>请求失败的拦截</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>intercepter<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">config</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//发生在获取到请求-&gt;处理请求之间,拦截完后对config做一些处理后,记得return,否则处理请求的地方拿不到config</span>
    <span class="token keyword">return</span> config
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li> <li><p>响应成功的拦截</p></li> <li><p>响应失败的拦截</p> <div class="language-js extra-class"><pre class="language-js"><code>axios<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
    <span class="token comment">//发生在处理请求-&gt;响应请求给客户之间,拦截完后对result做一些处理后,记得return,否则客户端拿不到result</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token parameter">err</span> <span class="token operator">=&gt;</span><span class="token punctuation">{</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div></li></ol></li> <li><p>拦截器也分全局拦截器与实例内部拦截器</p></li> <li><p>请求拦截的应用</p> <ol><li>判断config中的信息是否符合服务器的要求时,</li> <li>每次发送请求时,都在界面上显示一个请求的加载图标</li> <li>某些网络请求(比如登录),必须携带一些特殊的信息(比如token)时,如果缺少这些信息就拦截,拒绝请求</li></ol></li> <li><p>响应拦截的应用</p> <ol><li>一般只要返回<code>data</code>,而不用返回整个<code>result</code>,所以可以拦截<code>result</code>,然后再返回<code>result.data</code>给页面</li></ol></li></ol></li></ol></div> <footer><!----> <hr> <p class="lastUpdated">最後更新：2020/06/23</p> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#vue的简单案例" title="vue的简单案例">vue的简单案例</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vue的mvvm" title="vue的MVVM">vue的MVVM</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vue的生命周期" title="vue的生命周期">vue的生命周期</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#基本语法" title="基本语法">基本语法</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#插值操作" title="插值操作">插值操作</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#动态绑定属性" title="动态绑定属性">动态绑定属性</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#计算属性" title="计算属性">计算属性</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#事件监听" title="事件监听">事件监听</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#条件判断" title="条件判断">条件判断</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#循环遍历" title="循环遍历">循环遍历</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#数组与响应式" title="数组与响应式">数组与响应式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#阶段案例-图书购物车" title="阶段案例:图书购物车">阶段案例:图书购物车</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#v-model使用" title="v-model使用">v-model使用</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#组件化开发" title="组件化开发">组件化开发</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-基本使用-已经过时-不使用了" title="1. 基本使用(已经过时,不使用了)">1. 基本使用(已经过时,不使用了)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-父子组件" title="2. 父子组件">2. 父子组件</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-组件注册的语法糖-推荐" title="3. 组件注册的语法糖(推荐)">3. 组件注册的语法糖(推荐)</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-组件模板分离" title="4. 组件模板分离:">4. 组件模板分离:</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_5-组件中的数据存放" title="5. 组件中的数据存放">5. 组件中的数据存放</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_6-父子组件的通信" title="6. 父子组件的通信">6. 父子组件的通信</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_7-父子组件引用" title="7.父子组件引用">7.父子组件引用</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#组件化高级" title="组件化高级">组件化高级</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-插槽" title="1. 插槽">1. 插槽</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-编译作用域" title="2. 编译作用域">2. 编译作用域</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack配置vue" title="webpack配置vue">webpack配置vue</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#下载vue" title="下载vue">下载vue</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#vue的终极使用方案" title="vue的终极使用方案">vue的终极使用方案</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vue脚手架" title="Vue脚手架">Vue脚手架</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vue-router" title="vue-router">vue-router</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-web开发历史" title="1. web开发历史">1. web开发历史</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-改变网页url而不刷新网页的两种方式" title="2. 改变网页url而不刷新网页的两种方式">2. 改变网页url而不刷新网页的两种方式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-vue-router是基于路由和组件的" title="3. vue-router是基于路由和组件的">3. vue-router是基于路由和组件的</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_4-安装路由npm-i-vue-router-save或者脚手架傻瓜依赖" title="4. 安装路由npm i vue-router --save或者脚手架傻瓜依赖">4. 安装路由npm i vue-router --save或者脚手架傻瓜依赖</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_5-使用路由" title="5. 使用路由">5. 使用路由</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_6-设置页面路由的默认路径" title="6. 设置页面路由的默认路径">6. 设置页面路由的默认路径</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_7-修改路由改变url的模式" title="7. 修改路由改变Url的模式">7. 修改路由改变Url的模式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_8-动态路由的使用" title="8. 动态路由的使用">8. 动态路由的使用</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#路由的懒加载" title="路由的懒加载">路由的懒加载</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#路由的嵌套" title="路由的嵌套">路由的嵌套</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#路由之间数据的传递" title="路由之间数据的传递">路由之间数据的传递</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#this-router-和-this-route" title="this.$router 和 this.$route">this.$router 和 this.$route</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#全局导航守卫" title="全局导航守卫">全局导航守卫</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#路由独享守卫" title="路由独享守卫">路由独享守卫</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#keep-alive" title="Keep-alive">Keep-alive</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#vue-router实战-手机端底部tabbar" title="vue-router实战:手机端底部tabbar">vue-router实战:手机端底部tabbar</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#promise查缺补漏" title="Promise查缺补漏">Promise查缺补漏</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#vuex" title="Vuex">Vuex</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#使用state-类似于定义全局的data" title=". 使用state : 类似于定义全局的data">. 使用state : 类似于定义全局的data</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#使用mutations-store的唯一的更新的方式" title="使用mutations: $store的唯一的更新的方式">使用mutations: $store的唯一的更新的方式</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#使用getters" title="使用getters:">使用getters:</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#使用actions" title="使用actions">使用actions</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#使用modules" title="使用modules">使用modules</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#网络模块的封装" title="网络模块的封装">网络模块的封装</a></div></div></div></div> <footer class="footer" data-v-9908f194><div class="footer-left-wrap" data-v-9908f194><ul class="contact" data-v-9908f194><li class="contact-item" data-v-9908f194><a href="https://github.com/kakigakki" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-9908f194><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-9908f194><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-9908f194></path></svg>
          
        </a></li><li class="contact-item" data-v-9908f194><a href="/me-blog/2020/06/23/vue%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/kakigakki@gmail.com.html" class="nav-link" data-v-9908f194><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-mail" data-v-9908f194><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z" data-v-9908f194></path><polyline points="22,6 12,13 2,6" data-v-9908f194></polyline></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-9908f194><ul class="copyright" data-v-9908f194></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/me-blog/assets/js/app.4b1a192a.js" defer></script><script src="/me-blog/assets/js/6.28c07464.js" defer></script><script src="/me-blog/assets/js/3.db7e6e2f.js" defer></script><script src="/me-blog/assets/js/32.48bd6ca5.js" defer></script>
  </body>
</html>
