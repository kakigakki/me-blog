(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{478:function(t,a,s){"use strict";s.r(a);var e=s(8),n=Object(e.a)({},(function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h2",{attrs:{id:"生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生命周期"}},[t._v("#")]),t._v(" 生命周期")]),t._v(" "),s("h3",{attrs:{id:"vue3-的生命周期"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue3-的生命周期"}},[t._v("#")]),t._v(" vue3 的生命周期")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210116123441.png",alt:"20210116123441"}})]),t._v(" "),s("ul",[s("li",[s("p",[t._v("vue3 中的"),s("code",[t._v("beforeCreat")]),t._v("和"),s("code",[t._v("created")]),t._v("都可以用"),s("code",[t._v("setup")]),t._v("替代")])]),t._v(" "),s("li",[s("p",[t._v("vue3 中的"),s("code",[t._v("beforeDestroy")]),t._v("和"),s("code",[t._v("destroyed")]),t._v("都已经不存在，用"),s("code",[t._v("beforeUnmount")]),t._v("和"),s("code",[t._v("unmounted")]),t._v("替代")])]),t._v(" "),s("li",[s("p",[t._v("vue3 中的推荐使用组合 API 的方式来使用声明周期，因为会 vue2 中的使用方法来得快\n"),s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210116124806.png",alt:"20210116124806"}})]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("onMounted"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vue"')]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//在此执行操作")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("h2",{attrs:{id:"composition-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#composition-api"}},[t._v("#")]),t._v(" Composition API")]),t._v(" "),s("h3",{attrs:{id:"setup"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[t._v("#")]),t._v(" setup")]),t._v(" "),s("h4",{attrs:{id:"特性"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ul",[s("li",[t._v("新的 option，所有的组合 API 函数都在此使用，只在初始化时执行一次")]),t._v(" "),s("li",[t._v("函数如果返回对象，对象中的属性或者方法，都可以再模板中直接使用")]),t._v(" "),s("li",[t._v("组合 API 的入口")])]),t._v(" "),s("h4",{attrs:{id:"细节"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#细节"}},[t._v("#")]),t._v(" 细节")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("setup 在"),s("code",[t._v("beforeCreat")]),t._v("之前执行，即，setup 在执行的时候，组件还没创建出来，即组件的 this 还处于"),s("code",[t._v("undefined")]),t._v("状态，无法通过 this 来访问"),s("code",[t._v("data/computed/methods/props")])])]),t._v(" "),s("li",[s("p",[t._v("setup 中"),s("code",[t._v("返回对象")]),t._v("中的属性会与"),s("code",[t._v("data函数")]),t._v("返回的对象的属性合并为组件对象的属性(如果重名，setup 优先，如果 setup 就别使用 data 了)")])]),t._v(" "),s("li",[s("p",[t._v("setup 中"),s("code",[t._v("返回对象")]),t._v("中的方法会与"),s("code",[t._v("methods对象")]),t._v("中的方法合并为组件对象的方法(如果重名，setup 优先,如果 setup 就别使用 methods 了)")])])]),t._v(" "),s("h4",{attrs:{id:"参数"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参数"}},[t._v("#")]),t._v(" 参数")]),t._v(" "),s("p",[t._v("setup 中有两个参数"),s("code",[t._v("props")]),t._v("与"),s("code",[t._v("context")])]),t._v(" "),s("ul",[s("li",[s("code",[t._v("props")]),t._v(" : 是一个对象，里面有父级组件向子级组件传递的数据")]),t._v(" "),s("li",[s("code",[t._v("context")]),t._v("：是一个对象，有一个"),s("code",[t._v("attrs")]),t._v("对象，"),s("code",[t._v("emit")]),t._v("方法，"),s("code",[t._v("slots")]),t._v("对象\n"),s("ul",[s("li",[s("code",[t._v("context.attrs")]),t._v(" ： 是一个对象，包含在当前组件中标签中声明的所有属性的对象（不包含 props 中的），")]),t._v(" "),s("li",[s("code",[t._v("context.emit")]),t._v(" ： 跟"),s("code",[t._v("vue2")]),t._v("中的"),s("code",[t._v("this.emit")])]),t._v(" "),s("li",[s("code",[t._v("context.slots")])])])])]),t._v(" "),s("h3",{attrs:{id:"ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ref"}},[t._v("#")]),t._v(" ref")]),t._v(" "),s("h4",{attrs:{id:"特性-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性-2"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("一个定义响应式数据的函数")])]),t._v(" "),s("li",[s("p",[t._v("返回一个 Ref 对象，对象中有一个 Value 属性，")]),t._v(" "),s("ul",[s("li",[t._v("如果需要对数据进行操作，需要使用该 Ref 对象调用 value 属性")]),t._v(" "),s("li",[t._v("html 模板中不需要使用调用 value 属性")])])]),t._v(" "),s("li",[s("p",[t._v("一般用于基本类型的响应式设定")])]),t._v(" "),s("li",[s("p",[t._v("vue2 中的"),s("code",[t._v("this.$ref")]),t._v("也是用这个"),s("code",[t._v("ref")]),t._v("来实现")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("input ref"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"myInput"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("input"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" myInput "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("onMounted")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    myInput"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("focus")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    myInput\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])])]),t._v(" "),s("h4",{attrs:{id:"细节-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#细节-2"}},[t._v("#")]),t._v(" 细节")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("ref方法")]),t._v("中也可以传一个对象，此时 vue3 会自动将 ref 返回值中的 value 自动包装成"),s("code",[t._v("reactive")]),t._v("对象（不推荐使用）")])]),t._v(" "),s("h3",{attrs:{id:"reactive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#reactive"}},[t._v("#")]),t._v(" reactive")]),t._v(" "),s("ul",[s("li",[t._v("定义多个数据的响应式（对象响应）")]),t._v(" "),s("li",[t._v("将目标对象通过 proxy 代理，实现对象的深层次响应式")])]),t._v(" "),s("h3",{attrs:{id:"computed"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#computed"}},[t._v("#")]),t._v(" computed")]),t._v(" "),s("h4",{attrs:{id:"特性-3"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性-3"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("使用方法与 vue2 中有所不同,"),s("code",[t._v("computed")]),t._v("函数返回的是一个"),s("code",[t._v("ref")]),t._v("对象")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//计算属性函数中如果只传入一个回调函数，表示get")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" name1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" xxx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" xxx\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//计算属性函数中如果传入一个对象，可以有get,set方法")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" name2 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("set")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("val"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    name2\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"watch-watcheffect"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#watch-watcheffect"}},[t._v("#")]),t._v(" watch&watchEffect")]),t._v(" "),s("h4",{attrs:{id:"特性-4"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#特性-4"}},[t._v("#")]),t._v(" 特性")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("watch")]),t._v("使用方法与 vue2 中有所不同")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" user "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'kaki'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" age"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token number"}},[t._v("18")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" name "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第一个参数表示监视内容（可以是对象)")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第二个参数监视内容改变后的回调函数，回调函数的参数为newVal,oldVal")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//第三个参数可以配置一些监视的属性,immediate表示初始化时执行一次，deep表示对对象的深层次监视")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("name1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name1"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v("age\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("，"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("immediate"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("deep"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n")])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("watch")]),t._v("可以指定多个监视内容")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" user1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("newVal"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" oldVal")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此时newVal,oldVal也是数组[newUser,newUser1],[oldUser,oldUser1]")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])]),t._v(" "),s("li",[s("p",[s("code",[t._v("watch")]),t._v("监视的数据如果是非响应式的数据，如对象中的属性，那么需要使用回调的方法对它进行一层包装")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watch")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" user"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("age"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token parameter"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//此时才能监视到name,age")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("watchEffect")]),t._v("为 vue3 中特有的，")])]),t._v(" "),s("li",[s("p",[t._v("不用直接指定要监视的内容，直接在回调函数中操作需要监视的内容")])]),t._v(" "),s("li",[s("p",[t._v("不需要像"),s("code",[t._v("watch")]),t._v("中配置"),s("code",[t._v("immediate")]),t._v("就可以默认执行一次")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token function"}},[t._v("watchEffect")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  name"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("value "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" name1 "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" age\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"shallowreactive-shallowref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shallowreactive-shallowref"}},[t._v("#")]),t._v(" shallowReactive && shallowRef")]),t._v(" "),s("p",[t._v("浅劫持，浅监视。有时候为了提高性能，不需要深层次监视某个对象时，可以使用")]),t._v(" "),s("h3",{attrs:{id:"readonly-shallowreadonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#readonly-shallowreadonly"}},[t._v("#")]),t._v(" readonly && shallowReadonly")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("readonly(obj)")]),t._v("定义一个对象为只读，无法进行修改（深）")]),t._v(" "),s("li",[s("code",[t._v("shallowReadonly(obj)")]),t._v(" 定义一个对象为只读，无法进行修改（浅）")])]),t._v(" "),s("h3",{attrs:{id:"toraw-markraw"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#toraw-markraw"}},[t._v("#")]),t._v(" toRaw && markRaw")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("toRaw(obj)")]),t._v(" 将代理对象变为普通对象，即数据变化，界面不再变化")]),t._v(" "),s("li",[s("code",[t._v("obj.list = markRaw([1,2,3,4])")]),t._v(" 将代理对象的某个数据弄成非响应式数据")])]),t._v(" "),s("h3",{attrs:{id:"toref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#toref"}},[t._v("#")]),t._v(" toRef")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("toRef(proxy,val)")]),t._v("将响应式对象的属性变成 ref 对象\n当父子组件传递"),s("code",[t._v("prop属性")]),t._v("时，子组件接收到的父组件的 ref 对象的值时，一般都会接收到 "),s("code",[t._v("ref")]),t._v("的"),s("code",[t._v("value")]),t._v("，此时希望在子组件中将此数据变成 ref 对象，且与父组件相互响应时，则可以使用"),s("code",[t._v("toRef")])])]),t._v(" "),s("h3",{attrs:{id:"provide-inject"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#provide-inject"}},[t._v("#")]),t._v(" provide && inject")]),t._v(" "),s("p",[t._v("能够提供祖父与孙子组件之间的通信")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//祖父组件中提供")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("provide")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("ref")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'red'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//孙子组件中注入")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" xx "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("inject")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'color'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"isref-isreactive-isreadonly-isproxy"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isref-isreactive-isreadonly-isproxy"}},[t._v("#")]),t._v(" isRef && isReactive && isReadonly && isProxy")]),t._v(" "),s("ul",[s("li",[s("code",[t._v("isRef")]),t._v(":检查一个值是否为一个 ref 对象")]),t._v(" "),s("li",[s("code",[t._v("isReactive")]),t._v("：检查一个对象是否为 reactive 创建的响应式代理")]),t._v(" "),s("li",[s("code",[t._v("isReadonly")]),t._v("：检查一个对象是否是由 readonly 创建的只读代理")]),t._v(" "),s("li",[s("code",[t._v("isProxy")]),t._v("：检查一个对象是否是由 reactive 或者 readonly 方法创建的代理")])]),t._v(" "),s("h3",{attrs:{id:"手写组合-api"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#手写组合-api"}},[t._v("#")]),t._v(" 手写组合 API")]),t._v(" "),s("h4",{attrs:{id:"shallowreactive-reactive"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shallowreactive-reactive"}},[t._v("#")]),t._v(" shallowReactive && reactive")]),t._v(" "),s("p",[t._v("主要用"),s("code",[t._v("proxy")]),t._v("与"),s("code",[t._v("reflect")]),t._v("进行手写")]),t._v(" "),s("h4",{attrs:{id:"shallowreadonly-readonly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shallowreadonly-readonly"}},[t._v("#")]),t._v(" shallowReadonly && readonly")]),t._v(" "),s("p",[t._v("主要用"),s("code",[t._v("proxy")]),t._v("与"),s("code",[t._v("reflect")]),t._v("进行手写")]),t._v(" "),s("h4",{attrs:{id:"shallowref-ref"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#shallowref-ref"}},[t._v("#")]),t._v(" shallowRef && ref")]),t._v(" "),s("p",[t._v("主要利用"),s("code",[t._v("get")]),t._v("和"),s("code",[t._v("set")]),t._v("进行手写")]),t._v(" "),s("h4",{attrs:{id:"isref-isreactive-isreadonly-isproxy-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#isref-isreactive-isreadonly-isproxy-2"}},[t._v("#")]),t._v(" isRef,isReactive,isReadonly,isProxy")]),t._v(" "),s("p",[t._v("主要在创建内部对象时创建内部属性进行判断")]),t._v(" "),s("h3",{attrs:{id:"fragment-teleport"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#fragment-teleport"}},[t._v("#")]),t._v(" fragment && teleport")]),t._v(" "),s("ul",[s("li",[s("p",[s("code",[t._v("fragment")]),t._v(" 组件可以没有根标签，内部会将多个标签包含在一个 Fragment 虚拟元素中，可以减少标签层级，减少内存占用")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("teleport")]),t._v("标签 可以让某段 html 跑到指定位置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("teleport to"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"body"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("teleport"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])])])]),t._v(" "),s("h3",{attrs:{id:"suspense"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#suspense"}},[t._v("#")]),t._v(" Suspense")]),t._v(" "),s("p",[t._v("允许我们的应用程序在等待异步组件的时候，渲染一些后备内容，可以让我们创建一个平滑的用户体验\nvue3 中动态引入组件与 vue2 中有所不同")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//父组件中html")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("slot"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//或者写成#default")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("AsyncComp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("AsyncComp"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("template v"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("slot"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("fallback"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n    loading\n  "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("template"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("Suspense"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//动态组件依旧是异步的")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" AsyncComp "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("definedAsyncComponent")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v("i "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("mport")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxx'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//如果组件中的setup返回的是promise对象，那么此组件也是异步组件")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//AsyncComp组件中setup")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("async")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" res "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("await")]),t._v(" axios"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("url"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    data"),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("res"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("data\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h2",{attrs:{id:"vite"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vite"}},[t._v("#")]),t._v(" Vite")]),t._v(" "),s("h3",{attrs:{id:"亮点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#亮点"}},[t._v("#")]),t._v(" 亮点")]),t._v(" "),s("ol",[s("li",[s("p",[t._v("地址解析\n不管是"),s("code",[t._v("script")]),t._v("中还是"),s("code",[t._v("style")]),t._v("中还是"),s("code",[t._v("html")]),t._v("中的地址在 vite 中都会用同样的方法解析,所以这些位置都可以使用别名")])]),t._v(" "),s("li",[s("p",[t._v("css 可以通过模块引入")])])]),t._v(" "),s("div",{staticClass:"language-html extra-class"},[s("pre",{pre:!0,attrs:{class:"language-html"}},[s("code",[t._v("\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("class")]),s("span",{pre:!0,attrs:{class:"token attr-value"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("=")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("classes.logo"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("p")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\nimport classes from './App.module.css'\n"),s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token tag"}},[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n\n")])])]),s("ol",[s("li",[s("p",[t._v("vue3 中的 setup script")]),t._v(" "),s("ul",[s("li",[s("p",[t._v("可以在"),s("code",[t._v("vue")]),t._v("文件中的"),s("code",[t._v("script")]),t._v("标签直接加上"),s("code",[t._v("setup")]),t._v("属性,来直接将整个"),s("code",[t._v("ts")]),t._v("部分包含在 setup 启动函数中")])]),t._v(" "),s("li",[s("p",[t._v("导入组件后可以直接使用")])]),t._v(" "),s("li",[s("p",[s("code",[t._v("difneProps({})")]),t._v("可以直接定义属性\n"),s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210326001202.png",alt:"20210326001202"}})])]),t._v(" "),s("li",[s("p",[s("code",[t._v("defineEmit")]),t._v(" 可以定义事件\n"),s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210326001141.png",alt:"20210326001141"}})])]),t._v(" "),s("li",[s("p",[s("code",[t._v("useContext")]),t._v(" 定义上下文\n"),s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210326001441.png",alt:"20210326001441"}})])])])])]),t._v(" "),s("h3",{attrs:{id:"插件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#插件"}},[t._v("#")]),t._v(" 插件")]),t._v(" "),s("p",[t._v("当用户请求时,都会经过一下插件.这就有点像有点像过滤器,也有点像中间件.")]),t._v(" "),s("ol",[s("li",[t._v("插件的形式")])]),t._v(" "),s("p",[s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210325234253.png",alt:"20210325234253"}})]),t._v(" "),s("ol",[s("li",[t._v("插件的钩子\n"),s("img",{attrs:{src:"https://raw.githubusercontent.com/kakigakki/picBed/master/imgs/20210325233644.png",alt:"20210325233644"}})])]),t._v(" "),s("h3",{attrs:{id:""}},[s("a",{staticClass:"header-anchor",attrs:{href:"#"}},[t._v("#")])])])}),[],!1,null,null,null);a.default=n.exports}}]);